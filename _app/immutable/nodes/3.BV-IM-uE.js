import{c as C,a as b,f as x}from"../chunks/BVTUc5kL.js";import{o as D}from"../chunks/DjyxYQJ5.js";import{p as G,f as I,a as K,g as e,s as i,u as N,b as w,c as l,d,r as c,e as T,t as V,n as j}from"../chunks/DZ1glEvq.js";import{d as q}from"../chunks/8R4IxEnI.js";import{i as z}from"../chunks/Chi0av4Q.js";import{g as B,s as E,d as F,P as H,a as J,b as L,c as O}from"../chunks/D3zlxJym.js";import{p as Q}from"../chunks/BuRonJob.js";import{g as R}from"../chunks/CEMek83r.js";var U=x('<div class="flex h-screen flex-row gap-2"><div class="grow p-1"><div class="flex flex-row gap-2"><button type="button">Save</button> <a class="text-blue-800 underline">View</a> <div class="grow"></div> <button class="border border-black px-2" type="button">Delete</button></div> <textarea class="h-[90vh] w-full border border-black p-0.5"></textarea></div> <div class="w-[50vw] overflow-y-auto border-l border-black"><!></div></div>'),W=x('No such presentation. <a class="text-blue-800 underline" href="/">Go back</a>',1);function se(h,P){G(P,!0);let a=N(()=>Q.url.searchParams.get("p")),s=w(""),o=w(!1);D(()=>{(async()=>{const r=await B(e(a));i(s,r.content,!0)})()});var u=C(),k=I(u);{var y=t=>{var r=U(),v=l(r),p=l(v),n=l(p);n.__click=async()=>{e(a)&&(i(o,!0),await Promise.all([E(e(a),e(s)),new Promise(f=>{setTimeout(()=>{f(0)},100)})]),i(o,!1))};var m=d(n,2),S=d(m,4);S.__click=async()=>{e(a)&&confirm("Are you sure you want to delete?")&&(await F(e(a)),R("/"))},c(p);var _=d(p,2);T(_),c(v);var g=d(v,2),A=l(g);H(A,{get presentationMd(){return e(s)},noKeyboard:!0}),c(g),c(r),V(()=>{J(n,1,`border border-black px-2 ${e(o)?"bg-slate-300":""}`),n.disabled=e(o)||!e(a),L(m,"href",`/view?p=${e(a)}`)}),O(_,()=>e(s),f=>i(s,f)),b(t,r)},M=t=>{var r=W();j(),b(t,r)};z(k,t=>{e(s)?.length>0?t(y):t(M,!1)})}b(h,u),K()}q(["click"]);export{se as component};
